<script>
  export let color="darkgrey"
  export let size="20vw"
  export let disableScrollingOnBody=false
</script>

<div class="background">
  <div class="spinner-wrapper" style="max-width:{size}; max-height:{size};" role="progressbar">
    <svg width="100%" height="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M31.7187 19C31.2396 16.5417 30.2604 14.3281 28.7812 12.3594C27.3021 10.3906 25.4427 8.83854 23.2031 7.70312C20.9635 6.56771 18.5625 6 16 6C15.1667 6 14.4583 5.70833 13.875 5.125C13.2917 4.54167 13 3.83333 13 3C13 2.16667 13.2917 1.45833 13.875 0.875C14.4583 0.291667 15.1667 0 16 0C18.1667 0 20.2396 0.421875 22.2187 1.26562C24.1979 2.10938 25.901 3.24479 27.3281 4.67188C28.7552 6.09896 29.8906 7.80208 30.7344 9.78125C31.5781 11.7604 32 13.8333 32 16C32 16.9792 31.9062 17.9792 31.7187 19ZM24.6562 21C25.0729 20.2917 25.6823 19.8281 26.4844 19.6094C27.2864 19.3906 28.0469 19.4896 28.7656 19.9062C29.4844 20.3229 29.9479 20.9323 30.1562 21.7344C30.3646 22.5365 30.2604 23.2917 29.8437 24C28.7604 25.875 27.3594 27.4583 25.6406 28.75C23.9219 30.0417 22.0885 30.9479 20.1406 31.4688C18.1927 31.9896 16.151 32.1198 14.0156 31.8594C11.8802 31.599 9.87499 30.9271 7.99999 29.8438C7.14582 29.3646 6.33332 28.7812 5.56249 28.0938C7.31249 28.7396 9.11978 29.0365 10.9844 28.9844C12.8489 28.9323 14.625 28.6094 16.3125 28.0156C18 27.4219 19.5729 26.5208 21.0312 25.3125C22.4896 24.1042 23.6979 22.6667 24.6562 21ZM7.34374 21C7.76041 21.7083 7.85936 22.4635 7.64061 23.2656C7.42186 24.0677 6.95311 24.6771 6.23436 25.0938C5.51561 25.5104 4.76041 25.6094 3.96874 25.3906C3.17707 25.1719 2.57291 24.7083 2.15624 24C1.07291 22.125 0.401031 20.1198 0.140615 17.9844C-0.119802 15.849 0.0104065 13.8073 0.53124 11.8594C1.05207 9.91146 1.95832 8.07812 3.24999 6.35938C4.54166 4.64062 6.12499 3.23958 7.99999 2.15625C8.85416 1.65625 9.77082 1.23958 10.75 0.90625C8.85416 2.53125 7.42186 4.47917 6.45311 6.75C5.48436 9.02083 5.07291 11.4115 5.21874 13.9219C5.36457 16.4323 6.07291 18.7917 7.34374 21Z" fill="{color}">
        <animateTransform 
          type="rotate" 
          repeatCount="indefinite"
          attributeName="transform" 
          from="360 16 16" to="0 16 16" 
          dur="2s"
        />
      </path>
    </svg>
  </div>
</div>

<svelte:head>
  {#if disableScrollingOnBody}
  <style>
    body {
      overflow: hidden;
    }
  </style>
  {/if}
</svelte:head>

<style>
    
  .background {
    height: 100%;
    width: 100%;
    background-color: rgba(245,245,245,0.7);
    position: absolute;
    
    z-index: 999;
    display:flex;

    justify-content: center;
    align-items: center;
  }
  .spinner-wrapper {
    width: 20vw;
    height: 20vw;
  }

</style>